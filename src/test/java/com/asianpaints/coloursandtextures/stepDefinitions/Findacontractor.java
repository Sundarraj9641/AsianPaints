package com.asianpaints.coloursandtextures.stepDefinitions;
import static org.testng.Assert.assertEquals;
import static org.testng.Assert.assertTrue;

import cucumber.api.java.en.Given;
import cucumber.api.java.en.Then;
import cucumber.api.java.en.When;
public class Findacontractor {

	@When("User clics on Find a Contractor icon")
	public void userClicsOnFindAContractorIcon() throws InterruptedException
	{
		System.out.println("User clics on Find a Contractor icon");
		Browser.conPgObj.contractorIcon();
		Thread.sleep(2000);
	}

	@Then("Find a Contractor page is displayed")
	public void findAContractorPageIsDisplayed()
	{
		System.out.println("Find a Contractor page is displayed");
	}

	@Given("User is on Find a Contractor page")
	public void userisonFindAContractorPage() 
	{
		System.out.println("User is on Find a Contractor page");
	}

	@When("User enters pincode (.+)")
	public void userEntersPinCode(String pin) throws InterruptedException 
	{
		System.out.println("User enters pincode");
		Browser.conPgObj.enterPinCode(pin);
		Thread.sleep(2000);
	}

	@When("user clicks Search button")
	public void userClicksSearchButton()throws InterruptedException 
	{
		System.out.println("user clicks Search button");
		Browser.conPgObj.contractorSubmit();
		Thread.sleep(2000);
	}

	@Then("Contractor Page is displayed")
	public void contractorPageIsDisplayed()throws InterruptedException 
	{
		System.out.println("Contractor Page is displayed");
		boolean isContractorPageDisplayed = Browser.conPgObj.contractorPage.isDisplayed();
		assertTrue(isContractorPageDisplayed);
		Browser.conPgObj.contractorClear();
		Thread.sleep(2000);
	}

	@Then("Unsuccesful pin Error Message is displayed")
	public void unsuccesfulPinErrorMessageIsDisplayed()throws InterruptedException 
	{
		System.out.println("Unsuccesful pin Error Message is displayed");
		System.out.println(Browser.conPgObj.contractorErrorMsg());
		boolean isEnquirePinCodeDisplayed = Browser.conPgObj.contractorErrorMsg.isDisplayed();
		assertTrue(isEnquirePinCodeDisplayed);
		Thread.sleep(2000);
	}

	@Given("User is on Contractor Page")
	public void userIsOnContractorPage() 
	{
		System.out.println("");
	}

	
	@Then("Contractor Unsuccessful Error Message must be (.+)")
	public void errorMessageMustBeEnterAValidDigitZipCode(String expectedMsg) {
	    String actualMsg= Browser.conPgObj.contractorErrorMsg.getText();
	    assertEquals(actualMsg, expectedMsg);
	}

}
